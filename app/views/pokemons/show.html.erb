<h1 class="text-center">Pokemon Detail</h1>

<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th>Pokemon ID</th>
        <th>Name</th>
        <th>Current HP</th>
        <th>Level</th>
        <th>Attack</th>
        <th>Defense</th>
        <th>Special Attack</th>
        <th>Special Defense</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
        <tr>
          <td><%= @pokemon.id %></td>
          <td><%= @pokemon.name %></td>
          <td><%= @pokemon.current_health_point %>/<%= @pokemon.max_health_point %></td>
          <td><%= @pokemon.level %></td>
          <td><%= @pokemon.attack %></td>
          <td><%= @pokemon.defense %></td>
          <td><%= @pokemon.special_attack %></td>
          <td><%= @pokemon.special_defense %></td>
        </tr>
    </tbody>
  </table>
</div>

<h3>Pokemon Types</h3>

<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th>Type ID</th>
        <th>Name</th>
        <th></th>
        <th colspan="3"></th>
      </tr>
    </thead>


    <tbody>
      <% @types.each do |type| %>
        <tr>
          <td><a href="#"><%= type.id %></a></td>
          <td><a href="#"><%= type.name %></a></td>
        </tr>
      <% end %>
    </tbody>

  </table>
</div>

<h3>Pokemon Moves</h3>

<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th>Move ID</th>
        <th>Name</th>
        <th>Power Points</th>
        <th colspan="3"></th>
      </tr>
    </thead>


    <tbody>
      <% @moves.each do |move| %>
        <% pokemons_move = @pokemon.moves_pokemons.find_by(move_id: move.id) %>
        <tr>
          <td><a href="#"><%= move.id %></a></td>
          <td><a href="#"><%= move.name %></a></td>
          <td><a href="#"><%= pokemons_move.current_power_points ? pokemons_move.current_power_points : move.power_points %>/<%= move.power_points %></a></td>
        </tr>
      <% end %>
    </tbody>

  </table>
</div>

<div class="container text-center d-grid gap-2">
  <%= button_to "Edit Pokemon", edit_pokemon_path(@pokemon), method: :get, class: "btn btn-secondary" %>
  <%= button_to "Edit Types", pokemon_edit_types_path(@pokemon), method: :get, class: "btn btn-secondary" %>
  <%= button_to "Edit Moves", pokemon_edit_moves_path(@pokemon), method: :get, class: "btn btn-secondary" %>

  <%= button_to "Delete", pokemon_path(@pokemon), method: :delete, data: {confirm: 'Are you sure you want to delete a Pokemon named pokemon_name?'}, class: "btn btn-secondary" %>

  <%= button_to "Back", pokemons_path, method: :get, class: "btn btn-secondary" %>
</div>
